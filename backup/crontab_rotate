# Чистит бекапы сосисочной
# предложенный метод ротации бекапа в уроке; 1800 min - 30 hours, то есть 30 бекапов;
# данный метод имеет недостаток: если бекапы перестанут идти, то этот скрипт удалит все оставшиеся бекапы;
0 * * * * find /opt/backup/ -name "*" -type "d" -mmin +1800 -exec rm -rf {} +

# данный метод удаляет все кроме 30 папок в директории, отсортируя их по времени;
# в случае если бекапы отрабатывать не будут, то он не удалит нужные папки
# * * * * * ls -t /opt/backup/|tail -n +31|xargs rm -rf 